{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"content container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"content__top content__top--catalog\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"content__title\"\n}, \" Каталог \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"content__info\"\n}, \" 152 товара \")], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"content__catalog\"\n};\nconst _hoisted_4 = {\n  class: \"catalog\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ProductFilter = _resolveComponent(\"ProductFilter\");\n  const _component_ProductList = _resolveComponent(\"ProductList\");\n  const _component_BasePagination = _resolveComponent(\"BasePagination\");\n  return _openBlock(), _createElementBlock(\"main\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_ProductFilter, {\n    priceFrom: this.filterPriceFrom,\n    \"onUpdate:priceFrom\": _cache[0] || (_cache[0] = $event => this.filterPriceFrom = $event),\n    priceTo: this.filterPriceTo,\n    \"onUpdate:priceTo\": _cache[1] || (_cache[1] = $event => this.filterPriceTo = $event),\n    categoryId: this.filterCategoryId,\n    \"onUpdate:categoryId\": _cache[2] || (_cache[2] = $event => this.filterCategoryId = $event)\n  }, null, 8 /* PROPS */, [\"priceFrom\", \"priceTo\", \"categoryId\"]), _createElementVNode(\"section\", _hoisted_4, [_createVNode(_component_ProductList, {\n    products: $options.products,\n    onGotPage: _cache[3] || (_cache[3] = (pageName, pageParams) => _ctx.$emit('gotoPage', pageName, pageParams))\n  }, null, 8 /* PROPS */, [\"products\"]), _createVNode(_component_BasePagination, {\n    page: $data.page,\n    onPaginate: _cache[4] || (_cache[4] = $event => this.page = $event),\n    count: $options.countProducts,\n    \"per-page\": $data.productsPerPage\n  }, null, 8 /* PROPS */, [\"page\", \"count\", \"per-page\"])])])]);\n}","map":{"version":3,"mappings":";;EACUA,KAAK,EAAC;AAAmB;gCAC/BC,oBAOM;EAPDD,KAAK,EAAC;AAAoC,iBAC7CC,oBAEK;EAFDD,KAAK,EAAC;AAAgB,GAAC,WAE3B,gBACAC,oBAEO;EAFDD,KAAK,EAAC;AAAe,GAAC,cAE5B;;EAGGA,KAAK,EAAC;AAAkB;;EAElBA,KAAK,EAAC;AAAS;;;;;uBAZ1BE,oBAiBK,QAjBLC,UAiBK,GAhBLC,UAOM,EAENH,oBAMM,OANNI,UAMM,GALJC,aAAyIC;IAAlHC,SAAS,OAAOC,eAAe;mEAAfA,eAAe;IAAUC,OAAO,OAAOC,aAAa;iEAAbA,aAAa;IAAUC,UAAU,OAAOC,gBAAgB;oEAAhBA,gBAAgB;mEACtIZ,oBAGU,WAHVa,UAGU,GAFRR,aAA6HS;IAA/GC,QAAQ,EAAEC,iBAAQ;IAAGC,SAAO,6BAAGC,QAAQ,EAAEC,UAAU,KAAKC,UAAK,aAAaF,QAAQ,EAAEC,UAAU;yCAC5Gd,aAAgIgB;IAA/GC,IAAI,EAAEC,UAAI;IAAGC,UAAQ,2CAAOF,IAAI,GAAGG,MAAM;IAAGC,KAAK,EAAEV,sBAAa;IAAG,UAAQ,EAAEO","names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_ProductFilter","priceFrom","filterPriceFrom","priceTo","filterPriceTo","categoryId","filterCategoryId","_hoisted_4","_component_ProductList","products","$options","onGotPage","pageName","pageParams","_ctx","_component_BasePagination","page","$data","onPaginate","$event","count"],"sourceRoot":"","sources":["C:\\Users\\Rustam\\Desktop\\VueJS\\Skillbox-vue\\store\\src\\pages\\MainPage.vue"],"sourcesContent":["<template>\r\n    <main class=\"content container\">\r\n    <div class=\"content__top content__top--catalog\">\r\n      <h1 class=\"content__title\">\r\n        Каталог\r\n      </h1>\r\n      <span class=\"content__info\">\r\n        152 товара\r\n      </span>\r\n    </div>\r\n\r\n    <div class=\"content__catalog\">\r\n      <ProductFilter v-model:priceFrom=\"this.filterPriceFrom\" v-model:priceTo=\"this.filterPriceTo\" v-model:categoryId=\"this.filterCategoryId\"/>\r\n      <section class=\"catalog\">\r\n        <ProductList :products=\"products\" @gotPage=\"(pageName, pageParams) => $emit('gotoPage', pageName, pageParams)\"></ProductList>\r\n        <BasePagination :page=\"page\" @paginate=\"this.page = $event\" :count=\"countProducts\" :per-page=\"productsPerPage\"></BasePagination>\r\n      </section>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport products from './../data/products';\r\nimport ProductList from './../components/ProductList.vue';\r\nimport ProductFilter from './../components/ProductFilter.vue';\r\nimport BasePagination from './../components/BasePagination.vue';\r\n\r\nexport default {\r\n  name: 'MainPage',\r\n  components: {\r\n    ProductList,\r\n    ProductFilter,\r\n    BasePagination,\r\n  },\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      productsPerPage: 3,\r\n\r\n      filterPriceFrom: 0,\r\n      filterPriceTo: 0,\r\n      filterCategoryId: 0,\r\n    }\r\n  },\r\n  computed: {\r\n    filteredProducts() {\r\n      let filteredProducts = products;\r\n\r\n      if (this.filterPriceFrom > 0) {\r\n        filteredProducts = filteredProducts.filter(product => product.price >= this.filterPriceFrom);\r\n      }\r\n\r\n      if (this.filterPriceTo > 0) {\r\n        filteredProducts = filteredProducts.filter(product => product.price <= this.filterPriceTo);\r\n      }\r\n\r\n      if (this.filterCategoryId > 0) {\r\n        filteredProducts = filteredProducts.filter(product => product.categoryId === this.filterCategoryId);\r\n      }\r\n\r\n      return filteredProducts;\r\n    },\r\n    products() {\r\n      const offset = (this.page - 1) * this.productsPerPage;\r\n      return this.filteredProducts.slice(offset, offset + this.productsPerPage);\r\n    },\r\n    countProducts() {\r\n      return this.filteredProducts.length;\r\n    }\r\n  }\r\n}\r\n\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}