{"ast":null,"code":"import products from './../data/products';\nimport ProductList from './../components/ProductList.vue';\nimport ProductFilter from './../components/ProductFilter.vue';\nimport BasePagination from './../components/BasePagination.vue';\nexport default {\n  name: 'MainPage',\n  components: {\n    ProductList,\n    ProductFilter,\n    BasePagination\n  },\n  data() {\n    return {\n      page: 1,\n      productsPerPage: 3,\n      filterPriceFrom: 0,\n      filterPriceTo: 0,\n      filterCategoryId: 0\n    };\n  },\n  computed: {\n    filteredProducts() {\n      let filteredProducts = products;\n      if (this.filterPriceFrom > 0) {\n        filteredProducts = filteredProducts.filter(product => product.price >= this.filterPriceFrom);\n      }\n      if (this.filterPriceTo > 0) {\n        filteredProducts = filteredProducts.filter(product => product.price <= this.filterPriceTo);\n      }\n      if (this.filterCategoryId > 0) {\n        filteredProducts = filteredProducts.filter(product => product.categoryId === this.filterCategoryId);\n      }\n      return filteredProducts;\n    },\n    products() {\n      const offset = (this.page - 1) * this.productsPerPage;\n      return this.filteredProducts.slice(offset, offset + this.productsPerPage);\n    },\n    countProducts() {\n      return this.filteredProducts.length;\n    }\n  }\n};","map":{"version":3,"mappings":"AAsBA,OAAOA,QAAO,MAAO,oBAAoB;AACzC,OAAOC,WAAU,MAAO,iCAAiC;AACzD,OAAOC,aAAY,MAAO,mCAAmC;AAC7D,OAAOC,cAAa,MAAO,oCAAoC;AAE/D,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVJ,WAAW;IACXC,aAAa;IACbC;EACF,CAAC;EACDG,IAAI,GAAG;IACL,OAAO;MACLC,IAAI,EAAE,CAAC;MACPC,eAAe,EAAE,CAAC;MAElBC,eAAe,EAAE,CAAC;MAClBC,aAAa,EAAE,CAAC;MAChBC,gBAAgB,EAAE;IACpB;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,gBAAgB,GAAG;MACjB,IAAIA,gBAAe,GAAIb,QAAQ;MAE/B,IAAI,IAAI,CAACS,eAAc,GAAI,CAAC,EAAE;QAC5BI,gBAAe,GAAIA,gBAAgB,CAACC,MAAM,CAACC,OAAM,IAAKA,OAAO,CAACC,KAAI,IAAK,IAAI,CAACP,eAAe,CAAC;MAC9F;MAEA,IAAI,IAAI,CAACC,aAAY,GAAI,CAAC,EAAE;QAC1BG,gBAAe,GAAIA,gBAAgB,CAACC,MAAM,CAACC,OAAM,IAAKA,OAAO,CAACC,KAAI,IAAK,IAAI,CAACN,aAAa,CAAC;MAC5F;MAEA,IAAI,IAAI,CAACC,gBAAe,GAAI,CAAC,EAAE;QAC7BE,gBAAe,GAAIA,gBAAgB,CAACC,MAAM,CAACC,OAAM,IAAKA,OAAO,CAACE,UAAS,KAAM,IAAI,CAACN,gBAAgB,CAAC;MACrG;MAEA,OAAOE,gBAAgB;IACzB,CAAC;IACDb,QAAQ,GAAG;MACT,MAAMkB,MAAK,GAAI,CAAC,IAAI,CAACX,IAAG,GAAI,CAAC,IAAI,IAAI,CAACC,eAAe;MACrD,OAAO,IAAI,CAACK,gBAAgB,CAACM,KAAK,CAACD,MAAM,EAAEA,MAAK,GAAI,IAAI,CAACV,eAAe,CAAC;IAC3E,CAAC;IACDY,aAAa,GAAG;MACd,OAAO,IAAI,CAACP,gBAAgB,CAACQ,MAAM;IACrC;EACF;AACF","names":["products","ProductList","ProductFilter","BasePagination","name","components","data","page","productsPerPage","filterPriceFrom","filterPriceTo","filterCategoryId","computed","filteredProducts","filter","product","price","categoryId","offset","slice","countProducts","length"],"sourceRoot":"","sources":["C:\\Users\\Rustam\\Desktop\\VueJS\\Skillbox-vue\\store\\src\\pages\\MainPage.vue"],"sourcesContent":["<template>\r\n    <main class=\"content container\">\r\n    <div class=\"content__top content__top--catalog\">\r\n      <h1 class=\"content__title\">\r\n        Каталог\r\n      </h1>\r\n      <span class=\"content__info\">\r\n        152 товара\r\n      </span>\r\n    </div>\r\n\r\n    <div class=\"content__catalog\">\r\n      <ProductFilter v-model:priceFrom=\"this.filterPriceFrom\" v-model:priceTo=\"this.filterPriceTo\" v-model:categoryId=\"this.filterCategoryId\"/>\r\n      <section class=\"catalog\">\r\n        <ProductList :products=\"products\" @gotopage=\"(pageName, pageParams) => $emit('gotopage', pageName, pageParams)\"></ProductList>\r\n        <BasePagination :page=\"page\" @paginate=\"this.page = $event\" :count=\"countProducts\" :per-page=\"productsPerPage\"></BasePagination>\r\n      </section>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport products from './../data/products';\r\nimport ProductList from './../components/ProductList.vue';\r\nimport ProductFilter from './../components/ProductFilter.vue';\r\nimport BasePagination from './../components/BasePagination.vue';\r\n\r\nexport default {\r\n  name: 'MainPage',\r\n  components: {\r\n    ProductList,\r\n    ProductFilter,\r\n    BasePagination,\r\n  },\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      productsPerPage: 3,\r\n\r\n      filterPriceFrom: 0,\r\n      filterPriceTo: 0,\r\n      filterCategoryId: 0,\r\n    }\r\n  },\r\n  computed: {\r\n    filteredProducts() {\r\n      let filteredProducts = products;\r\n\r\n      if (this.filterPriceFrom > 0) {\r\n        filteredProducts = filteredProducts.filter(product => product.price >= this.filterPriceFrom);\r\n      }\r\n\r\n      if (this.filterPriceTo > 0) {\r\n        filteredProducts = filteredProducts.filter(product => product.price <= this.filterPriceTo);\r\n      }\r\n\r\n      if (this.filterCategoryId > 0) {\r\n        filteredProducts = filteredProducts.filter(product => product.categoryId === this.filterCategoryId);\r\n      }\r\n\r\n      return filteredProducts;\r\n    },\r\n    products() {\r\n      const offset = (this.page - 1) * this.productsPerPage;\r\n      return this.filteredProducts.slice(offset, offset + this.productsPerPage);\r\n    },\r\n    countProducts() {\r\n      return this.filteredProducts.length;\r\n    }\r\n  }\r\n}\r\n\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}